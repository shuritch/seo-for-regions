<h1 align="center">
Гибридное региональное SEO продвижение сайта
</h1>

> [!WARNING]
> Материал не дописан / IN PROCESS

<img height="180" width="259" src="./assets/cities.png" align="left">

На одном из недавних проектов снова встал вопрос регионального продвижения. Проект, уже имел региональный функционал на основе поддоменов. Но нас он не устраивал, об этом и как мы нашли **win-win** способ для поисковиков от **Yandex** и **Google**.

Не берусь судить об эффективности этого метода, он был опробован только на одном проекте и хотя это дало необходимые результаты - это не значит что это сработает и в вашей ситуации.

---

## Существующие подходы

> [!TIP] Навигация
> Вы можете пропускать разделы, знакомые вам и сразу перейти к моей [находке](#моя-находка-или-гибридный-подход), однако я вам рекомендую освежить память, а возможно даже узнать что-то новое.

Здесь мы не будем рассматривать все подходы, например, подход с внедрением множества региональных ключевых слов в страницу мы обойдем стороной. Все рассматриваемые способы в этой статье - создают отдельный ресурс под конкретный город или регион.

### Доменная региональность

<img width="259" src="./assets/webmaster-regions.png" align="left"/>

Возможно это самый популярный сейчас подход по региональному продвижению в СНГ. Все это из-за популярности у нас поисковой системы от **Yandex**, который предоставляет функционал для определения региона доменна прямо из своей панели **Yandex webmaster**.

Как показывает практика, этот под

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>

Таким образом, создав множество поддоменов или даже уникальных доменов, веб-сайты

На данный момент, поисковик **Yandex** отдает предпочтение бизнесу, который закрепился локально в конкретном регионе. Конечно, не всем и не всегда, все зависит от качества и прочих переменных.
Но определенный прирост в этом есть, если использовать региональные ключи - можно получить гео-зависимые запросы.
Возможно вы уже видели сайт с похожими доменами:

- spb.website.ru
- krasnodar.website.ru
- volgograd.website.ru
- И другие

Такие веб-сайты используют доменный способ регионального продвижения. <br/>
Приведу пример:

<p align="center">
  <img width="300px" height="225px" hspace="10" src="./assets/subdomain-krasnodar.png" />
  <img width="300px" height="225px" hspace="10" src="./assets/subdomain-spb.png" />
</p>

Здесь я подчеркнул веб-сайты, которые как раз продвигаются этим способом, например **Cian.ru**. Однако мне повезло и на примерах видно и второй тип регионального продвижения - **Avito.ru** и **realty.ya.ru** используют [региональность на основе вложенности](#региональность-на-основе-вложенности).

### Региональность на основе вложенности

Есть несколько вариантов реализации данного подхода, например:

#### Версия №1 - Регион-директория

```graphql
/ # Главная страница
/about# О Веб-сайте / Гео-независимые страницы
/products # Предоставляемые услуги / товары
  ├─ /buy-sony-tv # Конкретный товар 1, содержащий ключевые слова по Москве
  └─ /buy-samsung-phone # Конкретный товар 2, содержащий ключевые слова по Москве
/spb
  ├─ / # Копия Главной страницы с обновленными региональными ключами
  ├─ /products
  │  ├─ /buy-sony-tv # Конкретный товар 1, содержащий ключевые слова по другому городу
  │  └─ /buy-samsung-phone # Конкретный товар 2, содержащий ключевые слова по другому городу
  └─ /about # Закрыто от индексации, чтобы не дублировать контент
/krasnodar
  ├─ / # Копия Главной страницы с обновленными региональными ключами
  ├─ /products
  │  ├─ /buy-sony-tv # Конкретный товар 1, содержащий ключевые слова по другому городу
  │  └─ /buy-samsung-phone # Конкретный товар 2, содержащий ключевые слова по другому городу
  └─ /about # Закрыто от индексации, чтобы не дублировать контент
```

#### Версия №2 - Регион как часть URL услуги

```graphql
/ # Главная страница
/about# О Веб-сайте / Гео-независимые страницы
/products # Предоставляемые услуги / товары
  ├─ /buy-sony-tv
  ├─ /buy-sony-tv-in-spb
  ├─ /buy-sony-tv-in-krasnodar
  └─ etc
```

### Моя находка или Гибридный подход

<img height="150" width="150" src="./assets/tests.jpg" align="left">

Оба предыдущих подходов действительно хороши, однако ни один из них не продвигается одинаково хорошо в ПС от Yandex и Google. Меня это не устраивало и изучив подробно оба способа, я не нашел ни одной причины не использовать их одновременно.

Однако, по какой-то не ведомой мне причине, я не нашел ни одного упоминания данного способа. И **тщательно** все взвесив - я решил экспериментировать !

Как я писал выше, на проекте уже использовался доменный метод регионального продвижения, так что оставалось лишь ввести второй способ и настроить правильную индексацию - чтобы не нарушить уникальности контента и избежать санкций от ПС.

Было решено:

1. Ввести вложенную региональность.

   Был выбран метод регион-каталог, так-как он лучше подходил под этот проект. А также Город Москва для корневого каталога.

   Таким образом, я создал отдельную директорию, которая собирает запросы по паттерну `/city-*`, где \* это код города, и зеркально отражает все корневые маршруты, обновляя ключи.

2. Обновить логику доменного метода

   Так как я также использую вложенный метод

3. Закрыть все вложенные регионы от индексации ПС от Yandex
4. Закрыть все поддомены от индексации ПС другими Поисковыми системами
5. И не запутаться

Таким образом я написал стандартную конфигурацию файла **Robots.txt**, которая будет работать на основном домене.

```txt
# Robots.txt
# website.ru

# Роботы Яндекса
User-agent: YandexBot
User-agent: Yandex
Disallow: /api
Disallow: /search
Disallow: /*?*
Disallow: /city-*

# Остальные роботы
User-agent: *
Allow: /*service-
Allow: /*catalog-
Allow: /city-*/ceny
Disallow: /api
Disallow: /search
Disallow: /*?*
Disallow: /city-*

Sitemap: https://website.ru/sitemap.xml
```

Благодаря такой конфигурации, я смог добиться исключения из индексации всей логики вложенных регионов для ПС Yandex, а также исключить _все вложенные гео-независимые страницы_ для остальных поисковых систем.

> [!TIP] Как это работает ?
> Директива `Disallow: /city-*` закрывает все вложенные регионы. Однако нам такое поведение подходит только для роботов Яндекса и чтобы исключить только гео-независимые страницы - я также прописываю директивы `Allow: /*service-`, `Allow: /city-*/prices`, `Allow: /*service-`, которые открывают только гео-зависимые страницы для индексации прочими поисковыми роботами.

Но этого было не достаточно, также нужно было закрыть поддомены от поисковых роботов Google и прочих поисковых систем, чтобы оставить данный способ продвижения для поисковых роботов Яндекса. Таким образом получилась еще одна конфигурация, которая будет доступна со всех поддоменов:

```txt
# Robots.txt
# *.website.ru
# (spb.website.ru, krasnodar.website.ru, etc)

User-agent: YandexBot
User-agent: Yandex
Disallow: /api
Disallow: /poisk
Disallow: /*?*
Disallow: */cdn-cgi
Disallow: /gorod-*

User-agent: *
Disallow: /

Sitemap: https://*.website.ru/sitemap.xml
```

> [!WARNING] Осторожно
>
> Строка `Sitemap: https://*.website.ru/sitemap.xml` из примера содержит невалидный синтаксис и используется только для показательной цели.

## Итоги

Таким образом у меня удалось обеспечить веб-сервис сразу двумя способами регионального продвижения, благодаря чему я получил хорошие показатели в поисковых системах от **Yandex** и **Google**.

**Уважаемые читатели!** Известно ли вам что-то такое о региональном, о чём мало кто знает? Если так - просим поделиться своим мнением.
